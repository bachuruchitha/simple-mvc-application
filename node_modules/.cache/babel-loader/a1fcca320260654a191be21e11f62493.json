{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bachu\\\\Desktop\\\\React Course\\\\login-app\\\\src\\\\Components\\\\Login.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { Container, Form, FormGroup, Input, Label, Col, FormText, Button } from \"reactstrap\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = _ref => {\n  _s();\n  let {\n    setUserState\n  } = _ref;\n  const [authenticated, setauthenticated] = useState(localStorage.getItem(localStorage.getItem(\"authenticated\") || false));\n  const navigate = useNavigate();\n  const [formErrors, setFormErrors] = useState({});\n  const [isSubmit, setIsSubmit] = useState(false);\n  const [user, setUserDetails] = useState({\n    username: \"\",\n    password: \"\"\n  });\n  const changeHandler = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setUserDetails({\n      ...user,\n      [name]: value\n    });\n  };\n  const validateForm = values => {\n    const error = {};\n    const regex = /^[^\\s+@]+@[^\\s@]+\\.[^\\s@]{2,}$/i;\n    if (!values.username) {\n      error.username = \"Email is required\";\n    } else if (!regex.test(values.username)) {\n      error.username = \"Please enter a valid email address\";\n    }\n    if (!values.password) {\n      error.password = \"Password is required\";\n    }\n    return error;\n  };\n  const loginHandler = e => {\n    e.preventDefault();\n    setFormErrors(validateForm(user));\n    setIsSubmit(true);\n  };\n  useEffect(() => {\n    if (Object.keys(formErrors).length === 0 && isSubmit) {\n      console.log(user);\n      axios.post(\"http://localhost:8080/login/checkLogin\", user).then(res => {\n        if (res.data) {\n          // localStorage.setItem(\"authenticated\", true);\n          console.log(\"validated\");\n          setauthenticated(true);\n          localStorage.setItem(\"authenticated\", true);\n          navigate(\"/welcome\", {\n            replace: true\n          });\n        } else alert(\"Invalid Login Please Register\");\n      });\n    }\n  }, [formErrors]);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-center py-3\",\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: loginHandler,\n      children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n        row: true,\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          lg: 3\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Label, {\n          for: \"username\",\n          sm: 3,\n          lg: 2,\n          children: \"Email Id\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          sm: 9,\n          lg: 4,\n          children: [/*#__PURE__*/_jsxDEV(Input, {\n            id: \"username\",\n            name: \"username\",\n            placeholder: \"Enter your Email id\",\n            value: user.username,\n            onChange: changeHandler,\n            type: \"text\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: \"red\"\n            },\n            children: formErrors.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          lg: 3\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n        row: true,\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          lg: 3\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Label, {\n          for: \"password\",\n          sm: 3,\n          lg: 2,\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          sm: 9,\n          lg: 4,\n          children: [/*#__PURE__*/_jsxDEV(Input, {\n            id: \"password\",\n            name: \"password\",\n            placeholder: \"Enter Password\",\n            value: user.password,\n            onChange: changeHandler,\n            type: \"text\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: \"red\"\n            },\n            children: formErrors.password\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          lg: 3\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n        check: true,\n        row: true,\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          className: \"d-flex justify-content-center\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"xUSYep+ktfj40lIbNfamF8z7lQw=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","axios","Container","Form","FormGroup","Input","Label","Col","FormText","Button","Login","setUserState","authenticated","setauthenticated","localStorage","getItem","navigate","formErrors","setFormErrors","isSubmit","setIsSubmit","user","setUserDetails","username","password","changeHandler","e","name","value","target","validateForm","values","error","regex","test","loginHandler","preventDefault","Object","keys","length","console","log","post","then","res","data","setItem","replace","alert","color"],"sources":["C:/Users/bachu/Desktop/React Course/login-app/src/Components/Login.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport {\r\n  Container,\r\n  Form,\r\n  FormGroup,\r\n  Input,\r\n  Label,\r\n  Col,\r\n  FormText,\r\n  Button,\r\n} from \"reactstrap\";\r\n\r\nconst Login = ({ setUserState }) => {\r\n  const [authenticated, setauthenticated] = useState(\r\n    localStorage.getItem(localStorage.getItem(\"authenticated\") || false)\r\n  );\r\n  const navigate = useNavigate();\r\n  const [formErrors, setFormErrors] = useState({});\r\n  const [isSubmit, setIsSubmit] = useState(false);\r\n  const [user, setUserDetails] = useState({\r\n    username: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  const changeHandler = (e) => {\r\n    const { name, value } = e.target;\r\n    setUserDetails({\r\n      ...user,\r\n      [name]: value,\r\n    });\r\n  };\r\n  const validateForm = (values) => {\r\n    const error = {};\r\n    const regex = /^[^\\s+@]+@[^\\s@]+\\.[^\\s@]{2,}$/i;\r\n    if (!values.username) {\r\n      error.username = \"Email is required\";\r\n    } else if (!regex.test(values.username)) {\r\n      error.username = \"Please enter a valid email address\";\r\n    }\r\n    if (!values.password) {\r\n      error.password = \"Password is required\";\r\n    }\r\n    return error;\r\n  };\r\n\r\n  const loginHandler = (e) => {\r\n    e.preventDefault();\r\n    setFormErrors(validateForm(user));\r\n    setIsSubmit(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (Object.keys(formErrors).length === 0 && isSubmit) {\r\n      console.log(user);\r\n      axios.post(\"http://localhost:8080/login/checkLogin\", user).then((res) => {\r\n        if (res.data) {\r\n          // localStorage.setItem(\"authenticated\", true);\r\n          console.log(\"validated\")\r\n          setauthenticated(true)\r\n          localStorage.setItem(\"authenticated\", true);\r\n          navigate(\"/welcome\", { replace: true });\r\n        } else alert(\"Invalid Login Please Register\");\r\n      });\r\n    }\r\n  }, [formErrors]);\r\n  return (\r\n    <Container className=\"p-4\">\r\n      <h2 className=\"text-center py-3\">Login</h2>\r\n      <Form onSubmit={loginHandler}>\r\n        <FormGroup row>\r\n          <Col lg={3}></Col>\r\n          <Label for=\"username\" sm={3} lg={2}>\r\n            Email Id\r\n          </Label>\r\n          <Col sm={9} lg={4}>\r\n            <Input\r\n              id=\"username\"\r\n              name=\"username\"\r\n              placeholder=\"Enter your Email id\"\r\n              value={user.username}\r\n              onChange={changeHandler}\r\n              type=\"text\"\r\n            />\r\n            <p style={{ color: \"red\" }}>{formErrors.username}</p>\r\n          </Col>\r\n          <Col lg={3}></Col>\r\n        </FormGroup>\r\n\r\n        <FormGroup row>\r\n          <Col lg={3}></Col>\r\n          <Label for=\"password\" sm={3} lg={2}>\r\n            Password\r\n          </Label>\r\n\r\n          <Col sm={9} lg={4}>\r\n            <Input\r\n              id=\"password\"\r\n              name=\"password\"\r\n              placeholder=\"Enter Password\"\r\n              value={user.password}\r\n              onChange={changeHandler}\r\n              type=\"text\"\r\n            />\r\n            <p style={{ color: \"red\" }}>{formErrors.password}</p>\r\n          </Col>\r\n          <Col lg={3}></Col>\r\n        </FormGroup>\r\n        <FormGroup check row>\r\n          <Col className=\"d-flex justify-content-center\">\r\n            <Button>Submit</Button>\r\n          </Col>\r\n        </FormGroup>\r\n      </Form>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}